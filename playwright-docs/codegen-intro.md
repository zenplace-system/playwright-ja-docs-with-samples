# テスト生成

## 概要

Playwrightには標準でテスト生成機能が組み込まれており、テストをすぐに始めるための優れた方法です。この機能は2つのウィンドウを開きます：テストしたいウェブサイトと対話するブラウザウィンドウと、テストの記録、コピー、クリア、言語変更ができるPlaywright Inspectorウィンドウです。

## Codegenの実行

`codegen`コマンドを使用してテストジェネレーターを実行し、テストを生成したいウェブサイトのURLを指定します。URLはオプションで、コマンドを実行した後にブラウザウィンドウに直接URLを入力することもできます。

```bash
npx playwright codegen demo.playwright.dev/todomvc
```

### テストの記録

`codegen`を実行し、ブラウザで操作を行います。Playwrightはユーザーの操作に対応するコードを生成します。`Codegen`はレンダリングされたページを分析し、ロール、テキスト、テストIDを優先したロケーターを推奨します。複数の要素がロケーターに一致する場合、ジェネレーターはロケーターを改善して対象要素を一意に識別し、ロケーターによるテスト失敗やフレーキーさを減らします。

テストジェネレーターでは以下を記録できます：

* クリックや入力などのアクションをページと対話するだけで記録
* ツールバーのアイコンをクリックし、ページ上の要素をクリックして検証を記録：
  * `'assert visibility'` - 要素が表示されていることを検証
  * `'assert text'` - 要素が特定のテキストを含むことを検証
  * `'assert value'` - 要素が特定の値を持つことを検証

ページとの対話が終わったら、`'record'`ボタンを押して記録を停止し、`'copy'`ボタンを使用して生成されたコードをエディターにコピーします。

`'clear'`ボタンを使用してコードをクリアし、再度記録を開始できます。終了したらPlaywright Inspectorウィンドウを閉じるか、ターミナルコマンドを停止します。

### ロケーターの生成

テストジェネレーターを使用して[ロケーター](/docs/locators)を生成できます。

1. `'Record'`ボタンを押して記録を停止すると、`'Pick Locator'`ボタンが表示されます
2. `'Pick Locator'`ボタンをクリックし、ブラウザウィンドウの要素にカーソルを合わせると、各要素の下にロケーターがハイライト表示されます
3. ロケーターを選択するには、特定したい要素をクリックすると、そのロケーターのコードがPick Locatorボタンの横のロケータープレイグラウンドに表示されます
4. ロケータープレイグラウンドでロケーターを編集して微調整し、ブラウザウィンドウで一致する要素がハイライト表示されるのを確認できます
5. コピーボタンを使用してロケーターをコピーし、コードに貼り付けます

### エミュレーション

特定のビューポート、デバイス、カラースキームに対するテストを生成したり、位置情報、言語、タイムゾーンをエミュレートしたりすることもできます。テストジェネレーターは認証状態を保持したままテストを生成することもできます。詳細は[テストジェネレーター](/docs/codegen#emulation)ガイドを参照してください。

## 次のステップ

* [テストのトレースを確認する](/docs/trace-viewer-intro)